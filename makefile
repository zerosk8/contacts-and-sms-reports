CXX = g++
CPPFLAGS = -Wall -g
PATH_INCLUDE = ./include
PATH_SRC = ./src
PATH_BUILD = ./build
PATH_LIB=./lib
PATH_BIN = ./bin
CLASS_TELEPHONE_NUMBER = telephone_number
CLASS_CONTACT = contact
CLASS_SMS = sms
CLASS_UTILS_STRING = utils_string
CLASS_UTILS_FILE_SYSTEM = utils_file_system
CLASS_UTILS_HTML = utils_html
CLASS_EXEC_CONTACTS_AND_SMS_REPORTS = exec_contacts_and_sms_reports
CLASS_GUI_CONTACTS_AND_SMS_REPORTS = gui_contacts_and_sms_reports
MAIN = main
EXE = contacts_and_sms_reports

all: $(PATH_BUILD) $(PATH_BIN) $(EXE)

$(PATH_BUILD):
	mkdir -m 755 $(PATH_BUILD)

$(PATH_BIN):
	mkdir -m 755 $(PATH_BIN)

$(EXE): $(CLASS_TELEPHONE_NUMBER).o $(CLASS_SMS).o $(CLASS_CONTACT).o $(CLASS_UTILS_STRING).o \
	$(CLASS_UTILS_FILE_SYSTEM).o $(CLASS_UTILS_HTML).o $(CLASS_EXEC_CONTACTS_AND_SMS_REPORTS).o \
	$(CLASS_GUI_CONTACTS_AND_SMS_REPORTS).o

	$(CXX) $(CPPFLAGS) -I$(PATH_LIB) -I$(PATH_INCLUDE) \
	$(PATH_BUILD)/$(CLASS_TELEPHONE_NUMBER).o $(PATH_BUILD)/$(CLASS_CONTACT).o \
	$(PATH_BUILD)/$(CLASS_SMS).o $(PATH_BUILD)/$(CLASS_UTILS_STRING).o \
	$(PATH_BUILD)/$(CLASS_UTILS_FILE_SYSTEM).o $(PATH_BUILD)/$(CLASS_UTILS_HTML).o \
	$(PATH_BUILD)/$(CLASS_EXEC_CONTACTS_AND_SMS_REPORTS).o \
	$(PATH_BUILD)/$(CLASS_GUI_CONTACTS_AND_SMS_REPORTS).o $(PATH_SRC)/$(MAIN).cpp -o $(PATH_BIN)/$(EXE) \
	`pkg-config gtkmm-3.0 --cflags --libs`

$(CLASS_TELEPHONE_NUMBER).o: $(PATH_SRC)/$(CLASS_TELEPHONE_NUMBER).cpp \
	$(PATH_INCLUDE)/$(CLASS_TELEPHONE_NUMBER).h
	
	$(CXX) -c $(CPPFLAGS) -I$(PATH_INCLUDE) $(PATH_SRC)/$(CLASS_TELEPHONE_NUMBER).cpp -o \
    $(PATH_BUILD)/$(CLASS_TELEPHONE_NUMBER).o

$(CLASS_SMS).o: $(PATH_SRC)/$(CLASS_SMS).cpp $(PATH_INCLUDE)/$(CLASS_SMS).h \
	$(PATH_INCLUDE)/$(CLASS_TELEPHONE_NUMBER).h

	$(CXX) -c $(CPPFLAGS) -I$(PATH_INCLUDE) $(PATH_SRC)/$(CLASS_SMS).cpp -o \
	$(PATH_BUILD)/$(CLASS_SMS).o

$(CLASS_CONTACT).o: $(PATH_SRC)/$(CLASS_CONTACT).cpp $(PATH_INCLUDE)/$(CLASS_CONTACT).h \
	$(PATH_INCLUDE)/$(CLASS_TELEPHONE_NUMBER).h $(PATH_INCLUDE)/$(CLASS_SMS).h

	$(CXX) -c $(CPPFLAGS) -I$(PATH_INCLUDE) $(PATH_SRC)/$(CLASS_CONTACT).cpp -o \
	$(PATH_BUILD)/$(CLASS_CONTACT).o

$(CLASS_UTILS_STRING).o: $(PATH_SRC)/$(CLASS_UTILS_STRING).cpp \
	$(PATH_INCLUDE)/$(CLASS_UTILS_STRING).h
	
	$(CXX) -c $(CPPFLAGS) -I$(PATH_INCLUDE) $(PATH_SRC)/$(CLASS_UTILS_STRING).cpp \
	-o $(PATH_BUILD)/$(CLASS_UTILS_STRING).o

$(CLASS_UTILS_FILE_SYSTEM).o: $(PATH_SRC)/$(CLASS_UTILS_FILE_SYSTEM).cpp \
	$(PATH_INCLUDE)/$(CLASS_UTILS_FILE_SYSTEM).h
	
	$(CXX) -c $(CPPFLAGS) -I$(PATH_INCLUDE) $(PATH_SRC)/$(CLASS_UTILS_FILE_SYSTEM).cpp \
	-o $(PATH_BUILD)/$(CLASS_UTILS_FILE_SYSTEM).o

$(CLASS_UTILS_HTML).o: $(PATH_SRC)/$(CLASS_UTILS_HTML).cpp $(PATH_INCLUDE)/$(CLASS_UTILS_HTML).h \
	$(PATH_LIB)/CTML.h $(PATH_INCLUDE)/$(CLASS_CONTACT).h $(PATH_INCLUDE)/$(CLASS_SMS).h

	$(CXX) -c $(CPPFLAGS) -I$(PATH_LIB) -I$(PATH_INCLUDE) \
	$(PATH_SRC)/$(CLASS_UTILS_HTML).cpp -o $(PATH_BUILD)/$(CLASS_UTILS_HTML).o

$(CLASS_EXEC_CONTACTS_AND_SMS_REPORTS).o: $(PATH_SRC)/$(CLASS_EXEC_CONTACTS_AND_SMS_REPORTS).cpp \
	$(PATH_INCLUDE)/$(CLASS_EXEC_CONTACTS_AND_SMS_REPORTS).h $(PATH_INCLUDE)/$(CLASS_TELEPHONE_NUMBER).h \
	$(PATH_INCLUDE)/$(CLASS_SMS).h $(PATH_INCLUDE)/$(CLASS_CONTACT).h \
	$(PATH_INCLUDE)/$(CLASS_UTILS_STRING).h $(PATH_INCLUDE)/$(CLASS_UTILS_FILE_SYSTEM).h \
	$(PATH_LIB)/CTML.h $(PATH_INCLUDE)/$(CLASS_UTILS_HTML).h

	$(CXX) -c $(CPPFLAGS) -I$(PATH_LIB) -I$(PATH_INCLUDE) \
	$(PATH_SRC)/$(CLASS_EXEC_CONTACTS_AND_SMS_REPORTS).cpp \
	-o $(PATH_BUILD)/$(CLASS_EXEC_CONTACTS_AND_SMS_REPORTS).o

$(CLASS_GUI_CONTACTS_AND_SMS_REPORTS).o: $(PATH_SRC)/$(CLASS_GUI_CONTACTS_AND_SMS_REPORTS).cpp \
	$(PATH_INCLUDE)/$(CLASS_GUI_CONTACTS_AND_SMS_REPORTS).h \
	$(PATH_INCLUDE)/$(CLASS_EXEC_CONTACTS_AND_SMS_REPORTS).h $(PATH_INCLUDE)/$(CLASS_TELEPHONE_NUMBER).h \
	$(PATH_INCLUDE)/$(CLASS_SMS).h $(PATH_INCLUDE)/$(CLASS_CONTACT).h \
	$(PATH_INCLUDE)/$(CLASS_UTILS_STRING).h $(PATH_INCLUDE)/$(CLASS_UTILS_FILE_SYSTEM).h \
	$(PATH_LIB)/CTML.h $(PATH_INCLUDE)/$(CLASS_UTILS_HTML).h

	$(CXX) -c $(CPPFLAGS) -I$(PATH_LIB) -I$(PATH_INCLUDE) \
	$(PATH_SRC)/$(CLASS_GUI_CONTACTS_AND_SMS_REPORTS).cpp -o \
	$(PATH_BUILD)/$(CLASS_GUI_CONTACTS_AND_SMS_REPORTS).o `pkg-config gtkmm-3.0 --cflags --libs`

clean:
	rm -Rf $(PATH_BUILD) $(PATH_BIN)
